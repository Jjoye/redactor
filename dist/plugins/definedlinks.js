!function(e){e.Redactor.prototype.definedlinks=function(){return{init:function(){this.opts.definedLinks&&this.modal.addCallback("link",e.proxy(this.definedlinks.load,this))},load:function(){var i=e('<select id="redactor-defined-links" />');e("#redactor-modal-link-insert").prepend(i),this.definedlinks.storage={},e.getJSON(this.opts.definedLinks,e.proxy(function(n){e.each(n,e.proxy(function(n,t){this.definedlinks.storage[n]=t,i.append(e("<option>").val(n).html(t.name))},this)),i.on("change",e.proxy(this.definedlinks.select,this))},this))},select:function(i){var n=e(i.target).val(),t="",d="";0!==n&&(t=this.definedlinks.storage[n].name,d=this.definedlinks.storage[n].url),e("#redactor-link-url").val(d);var s=e("#redactor-link-url-text");""===s.val()&&s.val(t)}}}}(jQuery);